import{k as p,v as u,r as d,n as g,e as c,z as f,t as h,p as t,A as a,q as w,s as b}from"./index-5e2885e4.js";import{u as y}from"./index-f1112f4d.js";import{u as F}from"./service-d19f0ccd.js";import{N,a as v}from"./LayoutContent-f65dcc9c.js";import{N as l}from"./FormItem-7f69a4d7.js";import{u as L}from"./use-message-88af69a6.js";import{N as _}from"./Space-d49acb7b.js";import{N as I}from"./Form-6e61837b.js";import{N as i}from"./Input-1bbd5e95.js";import"./format-length-c9d165c6.js";import"./get-53588a31.js";import"./use-locale-ba0171d5.js";import"./use-merged-state-d459d80e.js";import"./Suffix-9f9d022f.js";function x(){const e=p(),{t:o}=u.useI18n(),s=F(),r=d({loginFormRef:g(),loginForm:{username:"",password:""},rules:{username:{trigger:["input","blur"],validator(){if(r.loginForm.username==="")return new Error(o("login.username_tips"))}},password:{trigger:["input","blur"],validator(){if(r.loginForm.password==="")return new Error(o("login.password_tips"))}}}});return{state:r,handleLogin:()=>{y({...r.loginForm}).then(m=>{s.setUserInfo(m),console.log("login-jumps"),e.push({path:"/tasks"})})}}}function j(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!b(e)}const M=c({setup(){var n;window.$message=L();const{t:e}=u.useI18n(),{state:o,handleLogin:s}=x(),r=(n=f())==null?void 0:n.appContext.config.globalProperties.trim;return{t:e,...h(o),trim:r,handleLogin:s}},render(){let e;return t(v,null,{default:()=>[t(N,null,{default:()=>[t(_,{justify:"center",align:"center",class:"w-full h-screen bg-gray-100"},{default:()=>[t("div",{class:"w-96 bg-white px-16 py-20 border border-gray-100 rounded-2xl"},[t("h2",{class:"text-2xl mb-16 font-bold"},[this.t("login.login_to_sea_tunnel")]),t(I,{rules:this.rules,ref:"loginFormRef",class:"mb-4"},{default:()=>[t(l,{label:this.t("login.username"),"label-style":{color:"black"},path:"userName"},{default:()=>[t(i,{clearable:!0,allowInput:this.trim,type:"text",value:this.loginForm.username,"onUpdate:value":o=>this.loginForm.username=o,placeholder:this.t("login.username_tips"),autofocus:!0,onKeydown:a(this.handleLogin,["enter"])},null)]}),t(l,{label:this.t("login.password"),"label-style":{color:"black"},path:"userPassword"},{default:()=>[t(i,{clearable:!0,allowInput:this.trim,type:"password",value:this.loginForm.password,"onUpdate:value":o=>this.loginForm.password=o,placeholder:this.t("login.password_tips"),onKeydown:a(this.handleLogin,["enter"])},null)]})]}),t(w,{type:"info",disabled:!this.loginForm.username||!this.loginForm.password,style:{width:"100%"},onClick:this.handleLogin},j(e=this.t("login.login"))?e:{default:()=>[e]})])]})]})]})}});export{M as default};
