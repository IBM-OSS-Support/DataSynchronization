import{v as i,r as _,o as f,w as y,e as N,p as e,y as h,N as b,q as g,s as S}from"./index-5e2885e4.js";import{g as C}from"./index-569e3c49.js";import{N as v,a as M}from"./Tabs-11369ba4.js";import{N as k}from"./Empty-dd1b91e9.js";import{N as j}from"./Space-d49acb7b.js";import"./service-d19f0ccd.js";import"./Add-c7f60439.js";import"./use-compitable-248ca92d.js";import"./use-merged-state-d459d80e.js";import"./throttle-c6377e77.js";import"./debounce-19376a56.js";import"./cssr-7767064c.js";import"./use-locale-ba0171d5.js";const x=(s=!1)=>{const n=i.useI18n(),l={1:"database",2:"file",3:"no_structured",4:"storage",5:"remote_connection"},u=_({types:[]}),p=()=>{C({showVirtualDataSource:s,source:"WT"}).then(r=>{const t={zh_CN:{},en_US:{}};u.types=Object.entries(r).map(([c,o])=>({type:"group",label:n.t(`datasource.${l[c]}`),key:l[c],children:o.map(a=>(t.zh_CN[a.name]=a.chineseName,t.en_US[a.name]=a.name,{label:a.name,value:a.name}))})),n.mergeLocaleMessage("zh_CN",t.zh_CN),n.mergeLocaleMessage("en_US",t.en_US)})};return f(()=>{p()}),y(i.useI18n().locale,()=>{p()}),{state:u}},B="_content_14ne5_17",T="_types_14ne5_20",w="_itemBox_14ne5_24",d={content:B,types:T,itemBox:w};function m(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Object]"&&!S(s)}const z={show:{type:Boolean,default:!1},id:{type:Number}},F=N({name:"SourceModal",props:z,emits:["change","cancel"],setup(s,n){const{t:l}=i.useI18n(),{state:u}=x(!1),p=t=>{n.emit("change",t)},r=()=>{n.emit("cancel")};return()=>{let t,c;return e(h,{show:s.show,onMaskClick:r,onEsc:r},{default:()=>[e(b,{class:d.content,title:l("datasource.choose_datasource_type")},{default:()=>[e(v,null,m(t=u.types.map(o=>e(M,{name:o.key,tab:o.label,key:o.key},{default:()=>[e("div",{class:d.types},[o==null?void 0:o.children.map(a=>e("div",{class:d.itemBox,onClick:()=>p(a.label)},[e("div",{class:"font-bold"},[a.label]),e("div",{class:"text-xs mt-1.5"},[o.label])]))]),o.children.length===0&&e(k,null,null)]})))?t:{default:()=>[t]}),e(j,{justify:"end"},{default:()=>[e(g,{onClick:r},m(c=l("datasource.cancel"))?c:{default:()=>[c]})]})]})]})}}});export{F as default};
