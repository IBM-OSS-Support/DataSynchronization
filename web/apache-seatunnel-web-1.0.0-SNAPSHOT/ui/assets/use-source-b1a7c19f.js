import{v as l,r as _,o as i,w as m}from"./index-5e2885e4.js";import{g as p}from"./index-569e3c49.js";const y=(u=!1)=>{const s=l.useI18n(),o={1:"database",2:"file",3:"no_structured",4:"storage",5:"remote_connection"},a=_({loading:!1,types:[]}),r=async()=>{if(!a.loading){a.loading=!0;try{const t=await p({showVirtualDataSource:u,source:"WT"});console.log(t,"ers");const n={zh_CN:{},en_US:{}};a.types=Object.entries(t).map(([c,g])=>({type:"group",label:s.t(`datasource.${o[c]}`),key:o[c],children:g.map(e=>(n.zh_CN[e.name]=e.chineseName,n.en_US[e.name]=e.name,{label:e.name,value:e.name}))})),s.mergeLocaleMessage("zh_CN",n.zh_CN),s.mergeLocaleMessage("en_US",n.en_US)}finally{a.loading=!1}}};return i(()=>{r()}),m(l.useI18n().locale,()=>{r()}),{state:a}};export{y as u};
